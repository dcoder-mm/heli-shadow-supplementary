~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Это корзина со смятыми бумажками, не ожидайте от них полноты и достоверности

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

### Оффтоп 1: Путешествие по солнечной системе
Интересно посчитать расстояния и до других планет, но с этим проблема: 
На Меркурий никто в здравом уме не садился, на Венере тучки, Земля вообще на Земле (да и Луна тоже), никто не садился и на спутники Юпитера, на Титане опять тучки, а дальше мрак и холод. 

Есть еще миссии на астероиды и кометы, но и там не густо: Rosetta  слишком далеко чтобы давать полную тень (https://imagearchives.esac.esa.int/picture.php?/60934/category/252), Philae закатился в какую-то дырку и умер (https://www.esa.int/Science_Exploration/Space_Science/Rosetta/Philae_found), OSIRIS-REx тыкал астероид палочкой на закате и тени были слишком длинными (https://www.nasa.gov/feature/goddard/2020/osiris-rex-tags-surface-of-asteroid-bennu), а у Hayabusa-2 камера куплена на донаты и снимает она не очень (https://www.hayabusa2.jaxa.jp/en/topics/20181026e_CAM-H/).

Но у нас есть Juno, которая панически боится теней (https://www.universetoday.com/143630/juno-is-afraid-to-death-of-jupiters-shadow-so-it-fired-its-thruster-for-over-10-hours-to-avoid-it/), но не боится смотреть на них со стороны: 

Io_shadow.jpg
https://www.missionjuno.swri.edu/junocam/processing?id=7426

Это тень от Ио, на поверхности Юпитера, снятая JunoCam (как и камеру на Hayabusa-2, её поставили в основном чтобы красивые картинки снимать, а не науки ради). Мы знаем (https://en.wikipedia.org/wiki/Io_(moon)), что Ио летает на расстоянии 351'700км от поверхности Юпитера, имеет диаметр в 1820км и похож на чашку чая, которую оставили в офисе весной 2020, чтобы вернуться к ней через пол года. 

Попробуем посчитать расстояние до Солнца. Возьмем полоску тени где-нибудь из середины круга, и измерим:

io_metering.png

~37 пикселей полутени и ~133 пикселя самой тени. Что дает полутень в 506км, а расстояние до солнца — 1.3927/(506/351700) 968 миллионов км. 

Самое дальнее расстояние от Юпитера до Солнца - 816.62 миллионов км. 


TODO









### 1.4 Оффтоп 2: Дальномер
Зная угловой размер Солнца, можно с пугающей точностью измерять расстояние до всего, что отбрасывает тень. Например, вот тень от здания до которого 

TODOOOO








### 1.3 Оффтоп 1: Майнкрафт
Форма falloff curve в полутени зависит от формы источника света. Если бы Солнце было квадратным (и правильно повернутым), то переход был бы идеально линейным:

sun_shade_sq_sun.png

Можно собрать квадратное солнце из фонарика и убедиться:

falloff_sq_sun.jpg

Более того, у нас есть мир с квадратным и идеально ориентированным солнцем: в конце 2020 года вышел официальный Майнкрафт с RTX, и в его трейлере есть кадр, с Солнцем и полутенью от него. Если рейтрейсинг реализован правильно, то мы должны увидеть линейную falloff curve в полутенях. И она, действительно, похожа на линейную:

falloff_mine1.jpg

А вот еще один кадр из видео, где полутень шире:

falloff_mine2.jpg

Физическая достоверность Майнкрафта. Кто-бы мог подумать? 

TODO






### 2.12 Оффтоп 4: Дальномер

Для оценки расстояния между камерой и вертолетом, мы измеряли его относительное увеличение. Оно было всего пару пикселей и точность получилась так-себе. Попробуем еще раз. 

balls.jpg

На этих ужасных кадрах видно приближение гигантского вражеского октаэдра (аппроксимированного до сферы). Он прошел уже 20 сантиметров! Насколько он близко?

Размер увеличился на 15 пикселей, отсюда

L = 20*(196/15) = 261см

На самом деле было 260. Ошибка в 0.5%. Но это конечно везение, потому что легко ошибиться на 1/15, измеряя 15 пикселей.